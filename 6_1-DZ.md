## ДЗ к занятию "6.1. Типы и структура СУБД"
___
**1.**


**1.1 Электронные чеки в json виде** 

Можно использовать реляционные SQL БД также умеют работатьс json, но хорошим вариантом будет использование MongoDB - отлично работает с json.

Ну если нужна скорость и хранить сразу всю инфу по чеку то точно MongoDB, а вот чем лучше были бы реляционные не знаю..

**1.2**
  
Думаю, что подойдёт реляционная БД (PostgreSQL), так как склады и автомобильные дороги статичны, нет необходимости в постоянном изменении данных. Мы вполне удобно можем посмотреть путь по запросу из таблицы.

**1.3**

Подойдёт NoSQL БД иерархической модели так как имеет аналогичную древовидную структуру, где присутствует связь родитель - потомок.

**1.4**

Подойдёт NoSQL БД ключ-значение, например, Memcache или Redis. Так как эти БД позволяют работать с кэш данными и периодически очищать их.

**1.5**

Мне кажется, что большее предпочтение лучше отдать NoSQL в связи с тес, что данные могут быстро изменяться, например MongoDB.


___
**2.**

**По CAP-теореме:**

1. Данные записываются на все узлы с задержкой до часа (асинхронная запись)

PA, так как во-первых - это несколько узлов, то есть несколько партиций (P) и во вторых - если данные записываются на все узлы, то они доступны (A). Но так как есть задержка, данные не синхронны, значит отсутствует согласованность (С)

2. При сетевых сбоях, система может разделиться на 2 раздельных кластера

Это PA система, так как данные не будут согласованы в каждом кластере, из-за этого и получается 2 раздельных кластера. Они оба доступны и каждый теперь имеет "свои" данные и может выдать разный ответ.

3. Система может не прислать корректный ответ или сбросить соединение

Думаю, что тут получается P система. Так как некорректный ответ - это отсутсвие согласованности (С), сброс соединения - отсутсвие доступности (А)

**Согласно PACELC-теореме:**

1. Данные записываются на все узлы с задержкой до часа (асинхронная запись)

Думаю, что это система получается PA/EC - когда данные согласованы при разделении или согласование является главной особенностью, отсюда идёт потеря в доступности и задержка (L)

2. При сетевых сбоях, система может разделиться на 2 раздельных кластера

Думаю, что это PA/EL система, так как имеется разделение и доступность, но отсутствует согласованность. Но при этом будет высокая скорость ответа (хоть и не согласованного)

3. Система может не прислать корректный ответ или сбросить соединение

_Предполагаю, что тут будет система PA/EC. Так как акцент сделан на том, что ответ может быть не корректным, значит система будет доступной. Если же система не делится, то акцент делается на согласованности.

___
**3.**

Я думаю, что тут смотря с какой стороны подойти к ответу. Если смотреть о системе в плане "переключения" этих принципов, то может. Например, MongoDB, где принцип транзакции можно выбрать.
Если же речь об одновременной работе двух принципов, то это будет невозможно на мой взгляд. Потому что сам по себе принцип BASE в какой-то степени противоположен ACID. В BASE акцент сделан на доступности и высокой скорости работы, но не согласованности (могут быть ошибки)
В ACID же наоборот, нацелена на максимальную надежность и согласованность, но "жертвует" в какой-то степени доступностью. Также каждая операция в ACID должна быть зафиксирована полностью, а в BASE только фиксируются обновления только критических операций.
___
**4.**

Cистема Redis, она позволяет организовать хранилище кэша в формате key-value и имеет механизм Pub/Sub. 
Минусы которые удалось изучить: 
1. При master-slave репликации и отказе ведущей реплики - необходимо вручную выбирать новую реплику. По умолчанию механизма определенеия и переключеняи нет. _(Согласен все таки redis-sentinel, имеет хороший набор для организации высокой доступности)_
2. Redis хранит кэш в памяти (не беря в расчет возможность сохранения на диск), соответственно, ограничен памятью. Невозможно поместить объем данных больше, чем объем RAM. А так же возможна потеря данных при отключении питания.
3. Возможно в минусы можно отнести, что нет возможности сделать очередь сообщений.
4. Нельзя выставлять в среде интернета или ненаджежных клиентов, не реализован контроль доступа.

_Если я не прав или не сказал, основных минусов, просьба дать ссылки , где эта тема расскрыта. ( Лекцию переслушивал, гуглил)_

